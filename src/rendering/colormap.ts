/**
 * Viridis colormap â€” 256 RGBA entries packed into a Uint8Array(256*4).
 * Used as a 256x1 texture for GPU-side color lookup.
 */

// Viridis data: 256 [R,G,B] tuples (0-255)
const VIRIDIS_RGB: number[][] = [
  [68,1,84],[68,2,86],[69,4,87],[69,5,89],[70,7,90],[70,8,92],[70,10,93],
  [70,11,94],[71,13,96],[71,14,97],[71,16,99],[71,17,100],[71,19,101],
  [72,20,103],[72,22,104],[72,23,105],[72,24,106],[72,26,108],[72,27,109],
  [72,28,110],[72,29,111],[72,31,112],[72,32,113],[72,33,115],[72,35,116],
  [72,36,117],[72,37,118],[72,38,119],[72,40,120],[72,41,121],[71,42,122],
  [71,44,122],[71,45,123],[71,46,124],[71,47,125],[70,48,126],[70,50,126],
  [70,51,127],[69,52,128],[69,53,129],[69,55,129],[68,56,130],[68,57,131],
  [68,58,131],[67,60,132],[67,61,132],[66,62,133],[66,63,133],[66,64,134],
  [65,66,134],[65,67,135],[64,68,135],[64,69,136],[63,71,136],[63,72,137],
  [62,73,137],[62,74,137],[62,76,138],[61,77,138],[61,78,138],[60,79,139],
  [60,80,139],[59,82,139],[59,83,140],[58,84,140],[58,85,140],[57,86,140],
  [57,87,141],[56,88,141],[56,90,141],[55,91,141],[55,92,141],[54,93,141],
  [54,94,142],[53,95,142],[53,96,142],[52,97,142],[52,98,142],[51,99,142],
  [51,100,142],[50,101,142],[50,102,142],[49,103,142],[49,104,142],[49,105,142],
  [48,106,142],[48,107,142],[47,108,142],[47,109,142],[46,110,142],[46,111,142],
  [46,112,142],[45,113,142],[45,114,142],[44,115,142],[44,116,141],[44,117,141],
  [43,118,141],[43,119,141],[42,120,141],[42,121,141],[42,122,141],[41,123,140],
  [41,124,140],[40,125,140],[40,126,140],[40,127,140],[39,128,139],[39,129,139],
  [39,130,139],[38,131,139],[38,132,139],[37,133,138],[37,134,138],[37,135,138],
  [36,136,138],[36,137,137],[36,138,137],[35,139,137],[35,140,136],[35,141,136],
  [34,142,136],[34,143,135],[34,144,135],[33,145,135],[33,146,134],[33,147,134],
  [33,148,133],[32,149,133],[32,150,133],[32,151,132],[32,152,132],[31,153,131],
  [31,154,131],[31,155,130],[31,156,130],[31,157,129],[31,158,129],[30,159,128],
  [30,160,128],[30,161,127],[30,162,127],[30,163,126],[30,164,126],[30,165,125],
  [30,166,124],[30,167,124],[31,168,123],[31,169,123],[31,170,122],[31,171,121],
  [31,172,121],[32,173,120],[32,174,119],[33,175,119],[33,176,118],[33,177,117],
  [34,178,117],[34,179,116],[35,180,115],[35,181,114],[36,182,114],[36,183,113],
  [37,184,112],[38,185,111],[38,186,111],[39,187,110],[40,188,109],[41,189,108],
  [41,190,107],[42,191,106],[43,192,106],[44,193,105],[45,194,104],[46,195,103],
  [47,196,102],[48,197,101],[49,198,100],[50,199,99],[52,200,98],[53,201,97],
  [54,202,96],[56,203,95],[57,204,94],[59,205,93],[60,206,92],[62,207,91],
  [63,208,90],[65,209,89],[67,210,87],[68,210,86],[70,211,85],[72,212,84],
  [74,213,83],[75,214,81],[77,214,80],[79,215,79],[81,216,78],[83,217,76],
  [85,217,75],[87,218,74],[89,219,72],[91,219,71],[93,220,70],[95,221,68],
  [97,221,67],[99,222,65],[101,222,64],[104,223,63],[106,223,61],[108,224,60],
  [110,224,58],[112,225,57],[115,225,55],[117,226,54],[119,226,52],[121,227,51],
  [124,227,49],[126,228,48],[128,228,46],[131,229,45],[133,229,43],[135,229,42],
  [138,230,40],[140,230,39],[142,231,37],[145,231,36],[147,231,34],[150,232,33],
  [152,232,31],[155,232,30],[157,233,28],[159,233,27],[162,233,25],[164,234,24],
  [167,234,23],[169,234,21],[172,235,20],[174,235,19],[177,235,18],[179,235,17],
  [182,236,16],[184,236,15],[187,236,14],[189,236,14],[192,237,13],[194,237,13],
  [197,237,13],[199,237,13],[201,237,13],[204,238,14],[206,238,14],[209,238,15],
  [211,238,16],[213,238,17],[216,239,18],
];

export function makeViridisTexture(): Uint8Array {
  const data = new Uint8Array(256 * 4);
  for (let i = 0; i < 256; i++) {
    const rgb = VIRIDIS_RGB[i];
    data[i * 4 + 0] = rgb[0];
    data[i * 4 + 1] = rgb[1];
    data[i * 4 + 2] = rgb[2];
    data[i * 4 + 3] = 255;
  }
  return data;
}
