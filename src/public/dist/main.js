function U1(F){F.innerHTML="";let U=document.createElement("div");U.className="header";let J=document.createElement("h1");J.textContent="Lithography Simulator";let D=document.createElement("span");D.className="subtitle",D.textContent="Fourier Optics / Aerial Image",U.append(J,D);let G=document.createElement("div");G.className="panel";let _=document.createElement("div");_.className="panel panel-heatmap";let $=document.createElement("div");$.className="heatmap-container";let Q=document.createElement("canvas");$.appendChild(Q),_.appendChild($);let E=document.createElement("div");E.className="panel panel-params";let K=document.createElement("div");K.className="panel-title",K.textContent="Parameters",E.appendChild(K);let X=document.createElement("div");X.className="timing-readout",X.innerHTML=`
    FFT + Pupil: <span class="value" id="timing-sim">—</span> ms<br>
    Render: <span class="value" id="timing-render">—</span> ms
  `,E.appendChild(X);let H=document.createElement("div");H.className="zoom-bar";let O=document.createElement("button");O.className="zoom-btn",O.textContent="−";let Z=document.createElement("input");Z.type="range",Z.className="zoom-slider",Z.min="0.5",Z.max="4",Z.step="0.1",Z.value="1";let P=document.createElement("button");P.className="zoom-btn",P.textContent="+";let L=document.createElement("span");return L.className="zoom-label",L.textContent="100%",H.append(O,Z,P,L),F.append(U,G,_,E,H),{maskPanel:G,heatmapCanvas:Q,paramsPanel:E,timingReadout:X,zoomSlider:Z,zoomInBtn:P,zoomOutBtn:O,zoomLabel:L,heatmapContainer:$}}var F1=[],s=!1,m={mask:new Float32Array(65536),params:{wavelength:248,na:0.75,sigma:0.5,defocus:0}};function G1(){if(s)return;s=!0,requestAnimationFrame(()=>{s=!1;for(let F of F1)F(m)})}function k(){return m}function D1(F){F1.push(F)}function N(F){m.mask=F,G1()}function J1(F,U){m.params[F]=U,G1()}function f(){return new Float32Array(65536)}function L1(){let F=f(),U=10,J=5;for(let D=0;D<256;D++)for(let G=0;G<256;G++)if(G%10<5)F[D*256+G]=1;return F}function V1(){let F=f(),U=20,J=6,D=Math.floor(7);for(let G=0;G<256;G++)for(let _=0;_<256;_++){let $=G%20,Q=_%20;if($>=D&&$<D+6&&Q>=D&&Q<D+6)F[G*256+_]=1}return F}function O1(){let F=f(),U=6,J=125,D=131;for(let G=0;G<256;G++)for(let _=125;_<131;_++)F[G*256+_]=1;return F}function P1(){let F=f(),U=5,J=2;for(let D=0;D<256;D++)for(let G=0;G<256;G++)if(G%5<2)F[D*256+G]=1;return F}function T1(){let F=f(),U=128,J=128,D=60,G=10;for(let _=0;_<256;_++)for(let $=0;$<256;$++){let Q=_-128,E=$-128,K=E>=0&&E<60&&Q>=-5&&Q<5,X=Q>=0&&Q<60&&E>=-5&&E<5;if(K||X)F[_*256+$]=1}return F}var Q1=[{name:"line_space",label:"Line/Space (10px)",generate:L1},{name:"contacts",label:"Contact Holes",generate:V1},{name:"isolated_line",label:"Isolated Line",generate:O1},{name:"dense_lines",label:"Dense Lines (5px)",generate:P1},{name:"l_shape",label:"L-Shape Corner",generate:T1}];var j=256,_1=256;function R1(F,U){let J=U/2,D=[],G=Math.floor(U/2);switch(F){case"square":for(let _=-G;_<=G;_++)for(let $=-G;$<=G;$++)D.push([$,_]);break;case"circle":for(let _=-G;_<=G;_++)for(let $=-G;$<=G;$++)if($*$+_*_<=J*J)D.push([$,_]);break;case"ring":{let _=J*0.6;for(let $=-G;$<=G;$++)for(let Q=-G;Q<=G;Q++){let E=Q*Q+$*$;if(E<=J*J&&E>=_*_)D.push([Q,$])}break}case"cross":{let _=Math.max(1,Math.floor(U/6));for(let $=-G;$<=G;$++)for(let Q=-G;Q<=G;Q++)if(Math.abs(Q)<=_||Math.abs($)<=_)D.push([Q,$]);break}case"lineH":{let _=Math.max(1,Math.floor(U/6));for(let $=-_;$<=_;$++)for(let Q=-G;Q<=G;Q++)D.push([Q,$]);break}case"lineV":{let _=Math.max(1,Math.floor(U/6));for(let $=-G;$<=G;$++)for(let Q=-_;Q<=_;Q++)D.push([Q,$]);break}}return D}var I1=[{key:"square",label:"Square"},{key:"circle",label:"Circle"},{key:"ring",label:"Ring"},{key:"cross",label:"Cross"},{key:"lineH",label:"Line H"},{key:"lineV",label:"Line V"}];function $1(F){let U=document.createElement("div");U.className="panel-title",U.textContent="Mask Editor",F.appendChild(U);let J=document.createElement("div");J.className="panel-mask",F.appendChild(J);let D=document.createElement("div");D.className="mask-canvas-wrap";let G=document.createElement("canvas");G.width=j,G.height=j,G.style.width=_1+"px",G.style.height=_1+"px",D.appendChild(G),J.appendChild(D);let _=G.getContext("2d"),$="brush",Q="square",E=20,K=!1,X=1;function H(){let A=k().mask,Y=_.createImageData(j,j),T=Y.data;for(let V=0;V<j*j;V++){let w=A[V]>0?255:0;T[V*4]=w,T[V*4+1]=w,T[V*4+2]=w,T[V*4+3]=255}_.putImageData(Y,0,0)}function O(A){let Y=G.getBoundingClientRect(),T=j/Y.width,V=j/Y.height,w=Math.floor((A.clientX-Y.left)*T),v=Math.floor((A.clientY-Y.top)*V);return[Math.max(0,Math.min(j-1,w)),Math.max(0,Math.min(j-1,v))]}function Z(A,Y,T){for(let V=-1;V<=1;V++)for(let w=-1;w<=1;w++){let v=A+w,S=Y+V;if(v>=0&&v<j&&S>=0&&S<j)T[S*j+v]=X}}function P(A,Y,T){let V=R1(Q,E);for(let[w,v]of V){let S=A+w,d=Y+v;if(S>=0&&S<j&&d>=0&&d<j)T[d*j+S]=X}}function L(A){let[Y,T]=O(A),V=k().mask;if($==="stamp")P(Y,T,V);else Z(Y,T,V);H(),N(V)}G.addEventListener("mousedown",(A)=>{K=!0,X=A.button===2?0:1,L(A)}),G.addEventListener("mousemove",(A)=>{if(K)L(A)}),G.addEventListener("mouseup",()=>{K=!1}),G.addEventListener("mouseleave",()=>{K=!1}),G.addEventListener("contextmenu",(A)=>A.preventDefault());let M=document.createElement("div");M.className="tool-toggle";let W=document.createElement("button");W.textContent="BRUSH",W.classList.add("active");let q=document.createElement("button");q.textContent="STAMP";function C(A){$=A,W.classList.toggle("active",A==="brush"),q.classList.toggle("active",A==="stamp"),R.style.display=A==="stamp"?"":"none"}W.addEventListener("click",()=>C("brush")),q.addEventListener("click",()=>C("stamp")),M.append(W,q),J.appendChild(M);let R=document.createElement("div");R.className="stamp-options",R.style.display="none";let I=document.createElement("div");I.className="stamp-shape-row";let u=[];for(let A of I1){let Y=document.createElement("button");if(Y.className="stamp-btn",Y.textContent=A.label,A.key===Q)Y.classList.add("active");Y.addEventListener("click",()=>{Q=A.key,u.forEach((T)=>T.classList.remove("active")),Y.classList.add("active")}),u.push(Y),I.appendChild(Y)}R.appendChild(I);let x=document.createElement("div");x.className="param-group";let z=document.createElement("div");z.className="param-label";let h=document.createElement("span");h.className="param-name",h.textContent="Stamp Size";let B=document.createElement("span");B.className="param-value",B.textContent=String(E),z.append(h,B);let y=document.createElement("input");y.type="range",y.min="4",y.max="60",y.value=String(E),y.addEventListener("input",()=>{E=Number(y.value),B.textContent=String(E)}),x.append(z,y),R.appendChild(x),J.appendChild(R);let o=document.createElement("div");o.className="preset-buttons";let p=null;for(let A of Q1){let Y=document.createElement("button");Y.className="preset-btn",Y.textContent=A.label,Y.addEventListener("click",()=>{let T=A.generate();if(N(T),H(),p)p.classList.remove("active");Y.classList.add("active"),p=Y}),o.appendChild(Y)}J.appendChild(o);let r=document.createElement("div");r.className="mask-tools";let l=document.createElement("button");l.textContent="CLEAR",l.addEventListener("click",()=>{if(N(new Float32Array(j*j)),H(),p)p.classList.remove("active");p=null});let i=document.createElement("button");i.textContent="INVERT",i.addEventListener("click",()=>{let A=k().mask;for(let Y=0;Y<j*j;Y++)A[Y]=A[Y]>0?0:1;N(A),H()}),r.append(l,i),J.appendChild(r),H()}var M1=[{key:"wavelength",label:"Wavelength",unit:"nm",min:193,max:365,step:1,decimals:0},{key:"na",label:"NA",unit:"",min:0.1,max:1.4,step:0.01,decimals:2},{key:"sigma",label:"Sigma (σ)",unit:"",min:0,max:1,step:0.01,decimals:2},{key:"defocus",label:"Defocus",unit:"μm",min:-2,max:2,step:0.01,decimals:2}];function E1(F){for(let U of M1){let J=document.createElement("div");J.className="param-group";let D=document.createElement("div");D.className="param-label";let G=document.createElement("span");G.className="param-name",G.textContent=U.label;let _=document.createElement("span"),$=document.createElement("span");$.className="param-value";let Q=document.createElement("span");Q.className="param-unit",Q.textContent=U.unit,_.append($,Q),D.append(G,_);let E=document.createElement("input");E.type="range",E.min=String(U.min),E.max=String(U.max),E.step=String(U.step),E.value=String(k().params[U.key]);let K=(X)=>{$.textContent=X.toFixed(U.decimals)};K(k().params[U.key]),E.addEventListener("input",()=>{let X=parseFloat(E.value);K(X),J1(U.key,X)}),J.append(D,E),F.appendChild(J)}}var K1=`#version 300 es
precision highp float;

// Fullscreen triangle trick — 3 vertices, no buffers needed
const vec2 positions[3] = vec2[3](
  vec2(-1.0, -1.0),
  vec2( 3.0, -1.0),
  vec2(-1.0,  3.0)
);

out vec2 vUV;

void main() {
  vec2 pos = positions[gl_VertexID];
  vUV = pos * 0.5 + 0.5;
  gl_Position = vec4(pos, 0.0, 1.0);
}
`,X1=`#version 300 es
precision highp float;

uniform sampler2D uIntensity;  // R32F intensity data
uniform sampler2D uColormap;   // 256x1 RGBA viridis lookup

in vec2 vUV;
out vec4 fragColor;

void main() {
  float val = texture(uIntensity, vUV).r;
  val = clamp(val, 0.0, 1.0);
  fragColor = texture(uColormap, vec2(val, 0.5));
}
`;var w1=[[68,1,84],[68,2,86],[69,4,87],[69,5,89],[70,7,90],[70,8,92],[70,10,93],[70,11,94],[71,13,96],[71,14,97],[71,16,99],[71,17,100],[71,19,101],[72,20,103],[72,22,104],[72,23,105],[72,24,106],[72,26,108],[72,27,109],[72,28,110],[72,29,111],[72,31,112],[72,32,113],[72,33,115],[72,35,116],[72,36,117],[72,37,118],[72,38,119],[72,40,120],[72,41,121],[71,42,122],[71,44,122],[71,45,123],[71,46,124],[71,47,125],[70,48,126],[70,50,126],[70,51,127],[69,52,128],[69,53,129],[69,55,129],[68,56,130],[68,57,131],[68,58,131],[67,60,132],[67,61,132],[66,62,133],[66,63,133],[66,64,134],[65,66,134],[65,67,135],[64,68,135],[64,69,136],[63,71,136],[63,72,137],[62,73,137],[62,74,137],[62,76,138],[61,77,138],[61,78,138],[60,79,139],[60,80,139],[59,82,139],[59,83,140],[58,84,140],[58,85,140],[57,86,140],[57,87,141],[56,88,141],[56,90,141],[55,91,141],[55,92,141],[54,93,141],[54,94,142],[53,95,142],[53,96,142],[52,97,142],[52,98,142],[51,99,142],[51,100,142],[50,101,142],[50,102,142],[49,103,142],[49,104,142],[49,105,142],[48,106,142],[48,107,142],[47,108,142],[47,109,142],[46,110,142],[46,111,142],[46,112,142],[45,113,142],[45,114,142],[44,115,142],[44,116,141],[44,117,141],[43,118,141],[43,119,141],[42,120,141],[42,121,141],[42,122,141],[41,123,140],[41,124,140],[40,125,140],[40,126,140],[40,127,140],[39,128,139],[39,129,139],[39,130,139],[38,131,139],[38,132,139],[37,133,138],[37,134,138],[37,135,138],[36,136,138],[36,137,137],[36,138,137],[35,139,137],[35,140,136],[35,141,136],[34,142,136],[34,143,135],[34,144,135],[33,145,135],[33,146,134],[33,147,134],[33,148,133],[32,149,133],[32,150,133],[32,151,132],[32,152,132],[31,153,131],[31,154,131],[31,155,130],[31,156,130],[31,157,129],[31,158,129],[30,159,128],[30,160,128],[30,161,127],[30,162,127],[30,163,126],[30,164,126],[30,165,125],[30,166,124],[30,167,124],[31,168,123],[31,169,123],[31,170,122],[31,171,121],[31,172,121],[32,173,120],[32,174,119],[33,175,119],[33,176,118],[33,177,117],[34,178,117],[34,179,116],[35,180,115],[35,181,114],[36,182,114],[36,183,113],[37,184,112],[38,185,111],[38,186,111],[39,187,110],[40,188,109],[41,189,108],[41,190,107],[42,191,106],[43,192,106],[44,193,105],[45,194,104],[46,195,103],[47,196,102],[48,197,101],[49,198,100],[50,199,99],[52,200,98],[53,201,97],[54,202,96],[56,203,95],[57,204,94],[59,205,93],[60,206,92],[62,207,91],[63,208,90],[65,209,89],[67,210,87],[68,210,86],[70,211,85],[72,212,84],[74,213,83],[75,214,81],[77,214,80],[79,215,79],[81,216,78],[83,217,76],[85,217,75],[87,218,74],[89,219,72],[91,219,71],[93,220,70],[95,221,68],[97,221,67],[99,222,65],[101,222,64],[104,223,63],[106,223,61],[108,224,60],[110,224,58],[112,225,57],[115,225,55],[117,226,54],[119,226,52],[121,227,51],[124,227,49],[126,228,48],[128,228,46],[131,229,45],[133,229,43],[135,229,42],[138,230,40],[140,230,39],[142,231,37],[145,231,36],[147,231,34],[150,232,33],[152,232,31],[155,232,30],[157,233,28],[159,233,27],[162,233,25],[164,234,24],[167,234,23],[169,234,21],[172,235,20],[174,235,19],[177,235,18],[179,235,17],[182,236,16],[184,236,15],[187,236,14],[189,236,14],[192,237,13],[194,237,13],[197,237,13],[199,237,13],[201,237,13],[204,238,14],[206,238,14],[209,238,15],[211,238,16],[213,238,17],[216,239,18]];function Y1(){let F=new Uint8Array(1024);for(let U=0;U<256;U++){let J=w1[U];F[U*4+0]=J[0],F[U*4+1]=J[1],F[U*4+2]=J[2],F[U*4+3]=255}return F}var b=256;class t{gl;program;intensityTex;colormapTex;vao;constructor(F){F.width=b,F.height=b;let U=F.getContext("webgl2",{antialias:!1,alpha:!1,premultipliedAlpha:!1});if(!U)throw Error("WebGL2 not supported");this.gl=U;let J=U.getExtension("EXT_color_buffer_float");this.program=this.createProgram(K1,X1),this.vao=U.createVertexArray(),this.intensityTex=U.createTexture(),U.bindTexture(U.TEXTURE_2D,this.intensityTex),U.texParameteri(U.TEXTURE_2D,U.TEXTURE_MIN_FILTER,U.NEAREST),U.texParameteri(U.TEXTURE_2D,U.TEXTURE_MAG_FILTER,U.NEAREST),U.texParameteri(U.TEXTURE_2D,U.TEXTURE_WRAP_S,U.CLAMP_TO_EDGE),U.texParameteri(U.TEXTURE_2D,U.TEXTURE_WRAP_T,U.CLAMP_TO_EDGE),U.texImage2D(U.TEXTURE_2D,0,U.R32F,b,b,0,U.RED,U.FLOAT,null),this.colormapTex=U.createTexture(),U.bindTexture(U.TEXTURE_2D,this.colormapTex),U.texParameteri(U.TEXTURE_2D,U.TEXTURE_MIN_FILTER,U.LINEAR),U.texParameteri(U.TEXTURE_2D,U.TEXTURE_MAG_FILTER,U.LINEAR),U.texParameteri(U.TEXTURE_2D,U.TEXTURE_WRAP_S,U.CLAMP_TO_EDGE),U.texParameteri(U.TEXTURE_2D,U.TEXTURE_WRAP_T,U.CLAMP_TO_EDGE);let D=Y1();U.texImage2D(U.TEXTURE_2D,0,U.RGBA,256,1,0,U.RGBA,U.UNSIGNED_BYTE,D),U.useProgram(this.program),U.uniform1i(U.getUniformLocation(this.program,"uIntensity"),0),U.uniform1i(U.getUniformLocation(this.program,"uColormap"),1)}draw(F){let U=this.gl;U.activeTexture(U.TEXTURE0),U.bindTexture(U.TEXTURE_2D,this.intensityTex),U.texSubImage2D(U.TEXTURE_2D,0,0,0,b,b,U.RED,U.FLOAT,F),U.activeTexture(U.TEXTURE1),U.bindTexture(U.TEXTURE_2D,this.colormapTex),U.useProgram(this.program),U.bindVertexArray(this.vao),U.viewport(0,0,b,b),U.drawArrays(U.TRIANGLES,0,3)}resize(F,U){}createProgram(F,U){let J=this.gl,D=this.compileShader(J.VERTEX_SHADER,F),G=this.compileShader(J.FRAGMENT_SHADER,U),_=J.createProgram();if(J.attachShader(_,D),J.attachShader(_,G),J.linkProgram(_),!J.getProgramParameter(_,J.LINK_STATUS)){let $=J.getProgramInfoLog(_);throw J.deleteProgram(_),Error("Shader link error: "+$)}return J.deleteShader(D),J.deleteShader(G),_}compileShader(F,U){let J=this.gl,D=J.createShader(F);if(J.shaderSource(D,U),J.compileShader(D),!J.getShaderParameter(D,J.COMPILE_STATUS)){let G=J.getShaderInfoLog(D);throw J.deleteShader(D),Error("Shader compile error: "+G)}return D}}function C1(F,U){let J=0;for(let D=0;D<U;D++)J=J<<1|F&1,F>>=1;return J}function u1(F){let U=Math.log2(F)|0,J=new Uint32Array(F);for(let D=0;D<F;D++)J[D]=C1(D,U);return J}var A1=new Map,H1=new Map;function b1(F){let U=A1.get(F);if(!U)U=u1(F),A1.set(F,U);return U}function B1(F,U){let J=`${F}_${U?1:0}`,D=H1.get(J);if(!D){let G=F*2;D=new Float64Array(F*2);let $=(U?1:-1)*Math.PI/F;for(let Q=0;Q<F;Q++){let E=$*Q;D[Q*2]=Math.cos(E),D[Q*2+1]=Math.sin(E)}H1.set(J,D)}return D}function W1(F,U,J,D=0,G=1){let _=Math.log2(U)|0,$=b1(U);if(G===1&&D===0)for(let Q=0;Q<U;Q++){let E=$[Q];if(E>Q){let K=Q*2,X=E*2,H=F[K];F[K]=F[X],F[X]=H,H=F[K+1],F[K+1]=F[X+1],F[X+1]=H}}else{let Q=new Float64Array(U*2);for(let E=0;E<U;E++){let K=(D+E*G)*2,X=$[E]*2;Q[X]=F[K],Q[X+1]=F[K+1]}for(let E=0;E<U;E++){let K=(D+E*G)*2;F[K]=Q[E*2],F[K+1]=Q[E*2+1]}}for(let Q=1;Q<=_;Q++){let E=1<<Q,K=E>>1,X=B1(K,J);for(let H=0;H<U;H+=E)for(let O=0;O<K;O++){let Z=(D+(H+O)*G)*2,P=(D+(H+O+K)*G)*2,L=X[O*2],M=X[O*2+1],W=F[P],q=F[P+1],C=L*W-M*q,R=L*q+M*W,I=F[Z],u=F[Z+1];F[Z]=I+C,F[Z+1]=u+R,F[P]=I-C,F[P+1]=u-R}}if(J){let Q=1/U;for(let E=0;E<U;E++){let K=(D+E*G)*2;F[K]*=Q,F[K+1]*=Q}}}function e(F,U,J){let D=new Float64Array(U*2);for(let _=0;_<U;_++){let $=_*U*2;D.set(F.subarray($,$+U*2)),W1(D,U,J),F.set(D,$)}let G=new Float64Array(U*2);for(let _=0;_<U;_++){for(let $=0;$<U;$++)G[$*2]=F[($*U+_)*2],G[$*2+1]=F[($*U+_)*2+1];W1(G,U,J);for(let $=0;$<U;$++)F[($*U+_)*2]=G[$*2],F[($*U+_)*2+1]=G[$*2+1]}}function a(F,U){let J=U>>1;for(let D=0;D<J;D++)for(let G=0;G<U;G++){let _=D+J,$=(G+J)%U,Q=(D*U+G)*2,E=(_*U+$)*2,K=F[Q];F[Q]=F[E],F[E]=K,K=F[Q+1],F[Q+1]=F[E+1],F[E+1]=K}}function q1(F,U,J){let{wavelength:D,na:G,sigma:_,defocus:$}=J,Q=19.53125,E=1/(U*19.53125),X=G*(1+_)/D,H=X*X,O=$*1000,Z=Math.PI*D*O,P=U>>1;for(let L=0;L<U;L++){let M=(L-P)*E,W=M*M;for(let q=0;q<U;q++){let C=(q-P)*E,R=C*C+W,I=(L*U+q)*2;if(R>H)F[I]=0,F[I+1]=0;else if(O!==0){let u=Z*R,x=Math.cos(u),z=Math.sin(u),h=F[I],B=F[I+1];F[I]=h*x-B*z,F[I+1]=h*z+B*x}}}}var c=256,g=c*c,n=null;function y1(){if(!n||n.length!==g*2)n=new Float64Array(g*2);return n}function j1(F,U){let J=performance.now(),D=y1();for(let Q=0;Q<g;Q++)D[Q*2]=F[Q],D[Q*2+1]=0;e(D,c,!1),a(D,c),q1(D,c,U),a(D,c),e(D,c,!0);let G=new Float32Array(g),_=0;for(let Q=0;Q<g;Q++){let E=D[Q*2],K=D[Q*2+1],X=E*E+K*K;if(G[Q]=X,X>_)_=X}if(_>0){let Q=1/_;for(let E=0;E<g;E++)G[E]*=Q}let $=performance.now()-J;return{intensity:G,timeMs:$}}function Z1(){let F=document.getElementById("app"),{maskPanel:U,heatmapCanvas:J,paramsPanel:D,timingReadout:G,zoomSlider:_,zoomInBtn:$,zoomOutBtn:Q,zoomLabel:E,heatmapContainer:K}=U1(F);$1(U);let X=document.createElement("div");X.style.padding="10px 0",D.insertBefore(X,G),E1(X);let H=new t(J),O=document.getElementById("timing-sim"),Z=document.getElementById("timing-render");D1((W)=>{let q=j1(W.mask,W.params);O.textContent=q.timeMs.toFixed(1);let C=performance.now();H.draw(q.intensity);let R=performance.now()-C;Z.textContent=R.toFixed(1)});let P=0;function L(W){if(P===0)P=J.offsetWidth;if(W===1)J.style.width="",J.style.height="",J.style.maxWidth="",J.style.maxHeight="",J.style.minWidth="",J.style.minHeight="";else{let q=P*W;J.style.width=`${q}px`,J.style.height=`${q}px`,J.style.maxWidth="none",J.style.maxHeight="none",J.style.minWidth=`${q}px`,J.style.minHeight=`${q}px`}E.textContent=`${Math.round(W*100)}%`,_.value=String(W)}_.addEventListener("input",()=>{L(parseFloat(_.value))}),Q.addEventListener("click",()=>{let W=Math.max(0.5,parseFloat(_.value)-0.1);L(Math.round(W*10)/10)}),$.addEventListener("click",()=>{let W=Math.min(4,parseFloat(_.value)+0.1);L(Math.round(W*10)/10)});let M=U.querySelector(".preset-btn");if(M)M.click()}if(document.readyState==="loading")document.addEventListener("DOMContentLoaded",Z1);else Z1();
